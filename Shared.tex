% ----------------------- TODO ---------------------------

% Diese Daten müssen einmalig pro Vorlesung angepasst werden:
\newcommand{\COURSE}{Drag-Your-Motion Team Project}
\newcommand{\TUTOR}{Chuqiao Li}

% ----------------------- TODO ---------------------------

\documentclass[a4paper]{scrartcl}

\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{fancyhdr}
\usepackage{color}
\usepackage{graphicx}
\usepackage{lastpage}
\usepackage{listings}
\usepackage{tikz}
\usepackage{pdflscape}
\usepackage{subfigure}
\usepackage{float}
\usepackage{polynom}
\usepackage{hyperref}
\usepackage{tabularx}
\usepackage{forloop}
\usepackage{geometry}
\usepackage{listings}
\usepackage{fancybox}
\usepackage{tikz}

\input kvmacros

\setlength\parindent{0pt}


%Größe der Ränder setzen
\geometry{a4paper,left=3cm, right=3cm, top=3cm, bottom=3cm}

%Kopf- und Fußzeile
\pagestyle {fancy}
\fancyhead[L]{Tutor: \TUTOR}
\fancyhead[C]{\COURSE}
\fancyhead[R]{\today}

\fancyfoot[L]{}
\fancyfoot[C]{}
\fancyfoot[R]{Seite \thepage /\pageref*{LastPage}}

%Formatierung der Überschrift, hier nichts ändern
\def\header#1#2{
  \begin{center}
    {\Large Project Documentation}\\
    {Stefan Bochinger, ???}\\
    {Leonie Rämisch, 6504373}\\
    {Helene Pfahler, 6723015}\\
    {Joao, ???}\\
    {Jan, ???}\\
    {Jonathan, ???}
  \end{center}
}

\begin{document}
\header{Nr. \NUMBER}{\DEADLINE}

\subsection*{About this project}
The objective of this project was to use artificial intelligence for drag-based editing of human animation. For this, we based our work on an interface called Aitviewer and a TCML cluster. 
In order to work efficiently, we split into two sub-teams: a front-end group focused on the user interface and a back-end group dedicated to model data processing.  


% ----------------------- TODO ---------------------------
% Hier werden die Aufgaben/Lösungen eingetragen:
\subsection*{Leonie Rämisch}
\subsubsection*{Introduction}
In the following, I will explain how I contributed to our team project "Motion Style Transfer with Drag-Based Editing". For the first half of our project, the Aitviewer group worked closely together and had many meetings throughout each week in which we worked together on the tasks. 

A small necessary step for the project was the setup of our GitHub project and the forking from the original AitViewer GitHub.

\subsubsection*{Method: export$\_$to$\_$AMASS}
Another big topic was the export\_to\_AMASS-Method, which is one of the main interfaces between the user who changes a sequence and the model which is supposed to alter the whole sequence depending on the user changes. This was a lot of work since we had to change the exported format multiple times, but in the end the model accepted the final format.

\subsubsection*{Keyframes}
The functionality of export\_to\_AMASS was extended by keyframes. If a frame is changed by a user, it will be marked as keyframe. The model uses this mark as a guide in order to adapt the whole sequence according to this specific or multiple keyframes.

\subsubsection*{Example Inputs}
Another necessary thing was the creation of the example inputs for the model. For this task, the Aitviewer group worked together and thought about different corner cases that need to be covered by an input. 

My corner cases were chosen within the Female Running folder. An input with many changed frames was created, as well as an input with 5 consecutive changed frames that each have a different body part changed. Both inputs are supposed to be a stress test of the model to see how it handles these specific changes.\\

From now on, we were able to split the work within the group much better since the key functionality that is needed for the project worked at this point. 

\subsubsection*{Colour of Mesh and Skeleton}
The goal was to make the change of the mesh and skeleton colour possible if a frame is marked as keyframe. I worked with Stefan on this task together.

We added a base colour, a light green, that will be applied on the mannequin if a frame is marked as keyframe. This led to the bug that the colour wheel within the UI couldn't be used anymore to change the colour of the untouched frames but this bug was fixed and now the colour can be changed as pleased again.

\subsubsection*{Prompts and their Export}
In the end we brainstormed about possible prompt features and how we distribute them within the group. My task was to make sure that the prompts will be added to the exported sequence. This meant that the export\_to\_AMASS-Method needed to be changed again, but it works now just fine.  


\subsection*{Helene Pfahler}
I contributed to this project by working on the Aitviewer as well. Additionally, I wrote reports for our weekly team meetings.

\subsubsection*{... to be continued ...}


\subsection*{Joao Espirito Santo Azevedo}
\subsubsection*{Introduction}
In this Section i aim to report my contributions to this teamproject.\\
As hinted to in the previous Section, to work on this Teamproject, we chose to split up our Group into two: one part would be responsible for setting up/handling the AI model on the cluster, while the other would be responsible for handling the UI/the AItviewer Application.

\subsubsection*{Personal difficulties}
\quad For the first few weeks of this Project i was involved in the Model-Group, trying to set up the Cluster on which the AI should run.

\quad I soon found this task was somewhat outside my area of expertise and chose to switch over to the UI team accordingly. Since Jan joined the Model team simultaneously and the UI Team was quite helpful in $"$showing me the ropes$"$ of the whole Aitviewer-Programme and -Code, i believe this transition was able to be handled significantly well.\\

\quad A further difficulty i had in the course of this project were two weeks where my laptop had technical problems with its fans and i was forced to try and relocate all my university work and such onto my older, significantly slower, Laptop.

\subsubsection*{Filename-Input Loader}
\subsubsection*{--Context}
\quad In the beginning of this project, if we wanted to load a specific Sequence/file with an animation onto the AItviewer, we had to change the corresponding String in the `load\_AMASS.py`-file. After a few weeks in the Model group, it became apparent that this was an annoying and inconvenient task/method.

\quad After some planning/brainstorming among us i assumed the task to handle the creation of a similar python-file (a Loader, if you will), which allowed the user to specify which file should be loaded into the AItviewer at the time of executing the file.

\subsubsection*{--how it works}
\quad The file i worked on, `load\_export\_AMASS.py` relies heavily on the os-library of python.
To use this Loader, it suffices to call the command `python load\_export\_AMASS.py` in the WSL/Linux Terminal while inside the `examples`-directory of the github repository.

\todo[color=grey!8, inline, bordercolor=white]{This command should work in any directory with a serving python-environment, though, so long as the `load\_export\_AMASS.py`-part of it is expanded with the corresponding relative path to it. (i.e. `../examples/load\_export\_AMASS.py`).}

\quad After a little while, the Loader should present an indexed list of the contents within the `export`-folder of the local repository. At the same time, the Loader should prompt the user to input a number specifying which of the files in this folder should be opened. Upon typing the number and pressing `Enter`, the Loader should $"$do its magic$"$.

\subsubsection*{--Possible future problems}
If one desires to work on this Loader, possible problems that they might encounter might be due to:\\
- Some paths not being relative(in relation to the current directory upon executing the Loader) or absolute(the complete path starting from the user's root-directory)\\
- Missing/incorrect permissions of certain folders (if the user is not permitted to open a folder, it probably won't open, even with the Loader)\\
- Incorrect Formats of the files to open (if the files are not stored in a format which the AItviewer is prepared to handle/understand, it won't work). - This problem is not fixable in the Loader, but rather probably in the `SMPLSequence.py`-file\\
- Problems with indexing/handling the List of directories (Double-check how these are handled)\\

\subsubsection*{Example Inputs}
As mentioned before, the UI Team worked together to create a couple animations to use as corner-case tests for the software.\\
The ones i created were all based on the `Female1 Walking` Animation:\\
- One was multiple frames (ca. 15), spread evenly throughout the whole animation\\
- One had no changes\\
- And one had changes applied to only the 10th first and the 10th last frames\\

\subsubsection*{Prompts}
\subsubsection*{--Context}
Many of the animations we were given to open in the AItviewer included prompts, which described the actions performed by the character and other information. Our task was to incorporate a way to view these in the Aitviewer.

\subsubsection*{--How it works}
The prompts are given as a multidimensional array. Every entry in its first dimension is a Prompt of the animation. These, in turn, are also arrays.\\
To view these, we expanded the AItviewer Interface a bit further in the `SMPLSequence.py`-file by creating a respective interface therein. One can interact with it on the AItviewer by going onto the `Editor`-window, clicking on the `AMASS Running`-dropdown menu and then on its `Prompts`-Button.\\
This Interface allows the user to individually view only the current Prompts as well as all Prompts. Additionally, the user is welcome to add or delete Prompts, and specify their Timespans.


\subsection*{Possible future additions}
Future improvements could include creating an automatic interface between the UI and the model to eliminate manual data transfer of the input/output of the model from/into the UI. The UI could also be modified to support the direct loading of exported sequences directly within Aitviewer, removing the need for terminal use. Another possible feature would include enabeling the deletion of keyframes within the UI. Additionally, in the future, one could work on showing the exact changes that the model applied within the UI, making use of the "model indices". Lastly, to make full use of the model's capacities, a further exploration of the prompts would be a possible future enhancement.

\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
